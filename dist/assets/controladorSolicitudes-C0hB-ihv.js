let t=[{id:101,id_solicitante_nombre:"Ana V.",id_solicitado_nombre:"Yo Mismo",monto:2e4,mensaje:"Pa'l almuerzo 🍔",estado:"PENDIENTE",fecha_creacion:new Date(Date.now()-864e5).toISOString(),tipo:"recibida"},{id:102,id_solicitante_nombre:"Yo Mismo",id_solicitado_nombre:"Carlos P.",monto:5e4,mensaje:"Cuota del paseo",estado:"ACEPTADA",fecha_creacion:new Date(Date.now()-1728e5).toISOString(),tipo:"enviada"},{id:103,id_solicitante_nombre:"Luisa G.",id_solicitado_nombre:"Yo Mismo",monto:1e4,mensaje:"",estado:"PENDIENTE",fecha_creacion:new Date().toISOString(),tipo:"recibida"}],l=104;console.log("[ControladorSolicitudes] Inicializado con datos simulados.");async function d(a,o,e=""){if(console.log(`[ControladorSolicitudes] Intentando crear solicitud: A=${a}, Monto=${o}, Mensaje=${e}`),o=parseFloat(o),!(a!=null&&a.trim())||isNaN(o)||o<=0){const c="Datos de solicitud inválidos (simulación).";return console.warn(`[ControladorSolicitudes] Falló creación: ${c}`),{exito:!1,mensaje:c}}const i=`Usuario ${a.slice(-4)}`,n={id:l++,id_solicitante_nombre:"Yo Mismo (Simulado)",id_solicitado_nombre:i,monto:o,mensaje:e,estado:"PENDIENTE",fecha_creacion:new Date().toISOString(),tipo:"enviada"};t.push(n);const s=`¡Solicitud de $${o.toLocaleString("es-CO")} enviada a ${i} (simulado)!`;return console.log(`[ControladorSolicitudes] Éxito creación: ${s}`,n),{exito:!0,solicitud:n,mensaje:s}}async function r(){const a=t.filter(o=>o.tipo==="recibida"&&o.estado==="PENDIENTE");return console.log("[ControladorSolicitudes] Obteniendo solicitudes recibidas PENDIENTES (simuladas)...",a),[...a]}async function u(){const a=t.filter(o=>o.tipo==="enviada");return console.log("[ControladorSolicitudes] Obteniendo solicitudes enviadas (simuladas)...",a),[...a]}async function m(a){console.log(`[ControladorSolicitudes] Intentando aceptar solicitud ID: ${a}`);const o=t.find(i=>i.id===parseInt(a)&&i.tipo==="recibida");if(!o){const i="Solicitud no encontrada o no es para ti (simulación).";return console.warn(`[ControladorSolicitudes] Falló aceptación: ${i}`),{exito:!1,mensaje:i}}if(o.estado!=="PENDIENTE"){const i="Esta solicitud ya se procesó (simulación).";return console.warn(`[ControladorSolicitudes] Falló aceptación: ${i}`),{exito:!1,mensaje:i}}o.estado="ACEPTADA",o.fecha_resolucion=new Date().toISOString();const e=`¡Pagaste la solicitud de ${o.id_solicitante_nombre} por $${o.monto.toLocaleString("es-CO")} (simulado)!`;return console.log(`[ControladorSolicitudes] Éxito aceptación: ${e}`,o),alert("SIMULACIÓN: Dinero enviado y saldo principal (simulado) actualizado. Revisa la consola."),{exito:!0,mensaje:e}}async function S(a){console.log(`[ControladorSolicitudes] Intentando rechazar solicitud ID: ${a}`);const o=t.find(i=>i.id===parseInt(a)&&i.tipo==="recibida");if(!o){const i="Solicitud no encontrada (simulación).";return console.warn(`[ControladorSolicitudes] Falló rechazo: ${i}`),{exito:!1,mensaje:i}}if(o.estado!=="PENDIENTE"){const i="Esta solicitud ya se procesó (simulación).";return console.warn(`[ControladorSolicitudes] Falló rechazo: ${i}`),{exito:!1,mensaje:i}}o.estado="RECHAZADA",o.fecha_resolucion=new Date().toISOString();const e="Solicitud rechazada (simulado).";return console.log(`[ControladorSolicitudes] Éxito rechazo: ${e}`,o),{exito:!0,mensaje:e}}export{m as a,u as b,d as c,r as o,S as r};
